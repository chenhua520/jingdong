<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<!-- 添加视口属性 变为移动页面 -->
	<!-- meta:vp -->
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<title>京东移动站</title>

	<!-- 导入css -->
	<link rel="stylesheet" type="text/css" href="css/base.css">
	<link rel="stylesheet" type="text/css" href="css/index.css">
	<!-- <script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script> -->
	<style>
	*{margin: 0;
	padding: 0;}
	.xiala{
		text-align: center;
    position: relative;
    bottom: 0;
    left: 0;
    width: 100%;
	}
	.cang{
		display: none;
	}
	.jd_container{
		position: relative;
		top:0;
		left: 0;
	}
	.shangla{
		text-align: center;
		display: none;
	}
	</style>
	
</head>
<body>
		<!-- 最外层的容器盒子 -->
		<div class="jd_container">
		
			<!-- 顶部的 通栏 -->
			<!-- <div class="jd_header">
				<a href="javascript:void(0)" class='header_logo'></a>
				<span class='header_glass'></span>
				<input type="search" class='header_search' placeholder='请输入内容'>
				<a href="javascript:void(0)" class='header_login'>登录</a>
			</div> -->

			<!-- 顶部的 轮播图 -->
			<div class="jd_banner">
				<ul class="banner_images clearfix">
					<li><a href="#"><img src="images/l8.jpg" alt=""></a></li>
					<li><a href="#"><img src="images/l1.jpg" alt=""></a></li>
					<li><a href="#"><img src="images/l2.jpg" alt=""></a></li>
					<li><a href="#"><img src="images/l3.jpg" alt=""></a></li>
					<li><a href="#"><img src="images/l4.jpg" alt=""></a></li>
					<li><a href="#"><img src="images/l5.jpg" alt=""></a></li>
					<li><a href="#"><img src="images/l6.jpg" alt=""></a></li>
					<li><a href="#"><img src="images/l7.jpg" alt=""></a></li>
					<li><a href="#"><img src="images/l8.jpg" alt=""></a></li>
					<li><a href="#"><img src="images/l1.jpg" alt=""></a></li>
				</ul>
				<ul class="banner_index clearfix">
					<li class='current'></li>
					<li></li>
					<li></li>
					<li></li>
					<li></li>
					<li></li>
					<li></li>
					<li></li>
				</ul>
			</div>

			<!-- 导航栏 -->
			<!-- div.jd_nav>ul.clearfix>li*8>a[href='#']>img[src='images/nav$.png']+p{分类查询} -->
			<div class="jd_nav">
				<ul class="clearfix">
					<li><a href="#">
							<img src="images/nav0.png" alt="">
							<p>分类查询</p>
						</a></li>
					<li><a href="#">
							<img src="images/nav1.png" alt="">
							<p>分类查询</p>
						</a></li>
					<li><a href="#">
							<img src="images/nav2.png" alt="">
							<p>分类查询</p>
						</a></li>
					<li><a href="#">
							<img src="images/nav3.png" alt="">
							<p>分类查询</p>
						</a></li>
					<li><a href="#">
							<img src="images/nav4.png" alt="">
							<p>分类查询</p>
						</a></li>
					<li><a href="#">
							<img src="images/nav5.png" alt="">
							<p>分类查询</p>
						</a></li>
					<li><a href="#">
							<img src="images/nav6.png" alt="">
							<p>分类查询</p>
						</a></li>
					<li><a href="#">
							<img src="images/nav7.png" alt="">
							<p>分类查询</p>
						</a></li>
				</ul>
			</div>

			<!-- 主要内容区域 -->
			<div class="jd_main">
				<!--  第一个内容自盒子 需要特殊设置  --> 
				<div class="main_content">
					<!--  清除浮动 --> 
					<div class="content_top clearfix">
						<span></span>
						<p>掌上秒杀</p>
						<ul class='f_l clearfix'>
							<li>0</li>
							<li>0</li>
							<li>:</li>
							<li>0</li>
							<li>0</li>
							<li>:</li>
							<li>0</li>
							<li>0</li>
						</ul>
						<a href="#" class='f_r'>更多&gt;</a>		
					</div>
					<div class="content_bottom">
						<!-- ul>li*3>(a[href='#']>img[src='images/detail01.jpg'])+p{¥10.00}+p{¥100.00} -->
						<ul class='clearfix'>
							<li>
								<a href="#"><img src="images/detail01.jpg" alt=""></a>
								<p>¥10.00</p>
								<p>¥100.00</p>
							</li>
							<li>
								<a href="#"><img src="images/detail02.jpg" alt=""></a>
								<p>¥10.00</p>
								<p>¥100.00</p>
							</li>
							<li>
								<a href="#"><img src="images/detail01.jpg" alt=""></a>
								<p>¥10.00</p>
								<p>¥100.00</p>
							</li>
						</ul>
					</div>
				</div>
				<!-- 除了第一个以外的 所有盒子 -->
				<div class="main_content">
					<div class="content_top clearfix">
						<span class='f_l'>京东超市</span>
					</div>
					<div class="content_bottom">
						<ul class='clearfix'>
							<li class='f_l b_r'><a href="javascript:void(0);"><img src="images/cp1.jpg" alt=""></a></li>
							<li class='f_r b_b'><a href="javascript:void(0);"><img src="images/cp2.jpg" alt=""></a></li>
							<li class='f_r'><a href="javascript:void(0);"><img src="images/cp3.jpg" alt=""></a></li>
						</ul>
					</div>
				</div>
				<div class="main_content">
					<div class="content_top clearfix">
						<span class='f_l'>京东超市</span>
					</div>
					<div class="content_bottom">
						<ul class='clearfix'>
							<li class='f_r b_l'><a href="javascript:void(0);"><img src="images/cp1.jpg" alt=""></a></li>
							<li class='f_l b_b'><a href="javascript:void(0);"><img src="images/cp2.jpg" alt=""></a></li>
							<li class='f_l'><a href="javascript:void(0);"><img src="images/cp3.jpg" alt=""></a></li>
						</ul>
					</div>
				</div>
			
						
				</div>
		</div>
		<div class="xiala"></div>
		<div class="cang">
				<div class="shangla">上拉进入产品列表</div>		
			<div class="jd_main jd_cang">
				<!--  第一个内容自盒子 需要特殊设置  --> 
				<div class="main_content">
					<!--  清除浮动 --> 
					<div class="content_top clearfix">
						<span></span>
						<p>我们不一样我</p>
						<ul class='f_l clearfix'>
							<li>0</li>
							<li>0</li>
							<li>:</li>
							<li>0</li>
							<li>0</li>
							<li>:</li>
							<li>0</li>
							<li>0</li>
						</ul>
						<a href="#" class='f_r'>复制&gt;</a>		
					</div>
					<div class="content_bottom">
						<!-- ul>li*3>(a[href='#']>img[src='images/detail01.jpg'])+p{¥10.00}+p{¥100.00} -->
						<ul class='clearfix'>
							<li>
								<a href="#"><img src="images/detail01.jpg" alt=""></a>
								<p>¥10.00</p>
								<p>¥100.00</p>
							</li>
							<li>
								<a href="#"><img src="images/detail02.jpg" alt=""></a>
								<p>¥10.00</p>
								<p>¥100.00</p>
							</li>
							<li>
								<a href="#"><img src="images/detail01.jpg" alt=""></a>
								<p>¥10.00</p>
								<p>¥100.00</p>
							</li>
						</ul>
					</div>
				</div>
				<!-- 除了第一个以外的 所有盒子 -->
				<div class="main_content">
					<div class="content_top clearfix">
						<span class='f_l'>京东超市</span>
					</div>
					<div class="content_bottom">
						<ul class='clearfix'>
							<li class='f_l b_r'><a href="javascript:void(0);"><img src="images/cp1.jpg" alt=""></a></li>
							<li class='f_r b_b'><a href="javascript:void(0);"><img src="images/cp2.jpg" alt=""></a></li>
							<li class='f_r'><a href="javascript:void(0);"><img src="images/cp3.jpg" alt=""></a></li>
						</ul>
					</div>
				</div>
				<div class="main_content">
					<div class="content_top clearfix">
						<span class='f_l'>京东超市</span>
					</div>
					<div class="content_bottom">
						<ul class='clearfix'>
							<li class='f_r b_l'><a href="javascript:void(0);"><img src="images/cp1.jpg" alt=""></a></li>
							<li class='f_l b_b'><a href="javascript:void(0);"><img src="images/cp2.jpg" alt=""></a></li>
							<li class='f_l'><a href="javascript:void(0);"><img src="images/cp3.jpg" alt=""></a></li>
						</ul>
					</div>
				</div>
			曾经经称呼换成好好好好好好好好好好好好好好好哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈
			曾经经称呼换成好好好好好好好好好好好好好好好哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈
			曾经经称呼换成好好好好好好好好好好好好好好好哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈
			曾经经称呼换成好好好好好好好好好好好好好好好哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈
			曾经经称呼换成好好好好好好好好好好好好好好好哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈
			曾经经称呼换成好好好好好好好好好好好好好好好哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈
			曾经经称呼换成好好好好好好好好好好好好好好好哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈
			曾经经称呼换成好好好好好好好好好好好好好好好哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈
						
				</div>
		</div>
<script>
 let jd_container = document.querySelector('.jd_container');
 let list = document.querySelector('.jd_main');
 let topItem = document.querySelector('.xiala');
 let cang = document.querySelector('.cang');
 let sTop; // 触发touch事件时的距离选项卡底部的距离
   let mTop; // touchmove时距离选项卡底部的位置
   let eTop; // 记录touchend时的位置
   // let isRefresh = false;
//    let startOffsetTop = 40;// 距离顶部的距离，tab的高度
   let wScrollTop; // wrapper 节点是否滚动
   let maxTop = 100; // 最多下拉100px
   let minTop = 20; // 最小下拉20px,小于20px时不处理
   window.onload = function(){
     list.addEventListener('touchstart', function (e) {
           sTop = e.touches[0].pageY
		//    console.log(sTop)
       });
       list.addEventListener('touchmove', function (e) {
		mTop = e.touches[0].pageY
	   var scrollTop = document.documentElement.scrollTop||document.body.scrollTop;
		   var clicent=document.documentElement.clientHeight;
		   var juan=scrollTop+clicent;
		   juan=Math.ceil(juan);
		    var zheight=jd_container.scrollHeight
		     topItem.style.display="block"
			if(juan>= zheight){
			
				let mOffsetTop = sTop-mTop+"px"
				// console.log(mOffsetTop)
				if (mTop < sTop) {
					if ((sTop-mTop) <= maxTop) {
				topItem.style.paddingBottom = mOffsetTop;
			
			} else {
						topItem.style.paddingBottom = maxTop + 'px'
				
					}
			if(sTop-mTop>30){
				topItem.innerHTML="再拉进入商品详情"
			
			}else{
				topItem.innerHTML="到底了"
			}
			
				}
			
			} 
	
       });
       list.addEventListener('touchend', function(e) {
		   console.log(sTop)
		   console.log(mTop)
           if (sTop-mTop>=maxTop) {
            //    topItem.innerHTML = '正在加载';
               setTimeout(function () {
				// topItem.style.paddingBottom = 0+ 'px';
				topItem.style.display="none"
                   resize();
               }, 100)
           } else {
			topItem.style.paddingBottom = 0+ 'px';
			topItem.style.display="none"
           }
       });
	   function resize() {
		jd_container.style.display="none";
		cang.style.display="block";
		// var scrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||document.documentElement.scrollTop;
		window.pageYOffset=document.documentElement.scrollTop=document.body.scrollTop=document.documentElement.scrollTop=0
	// cang.scrollTop=0;
   }
  
   };
   

</script>
<script>
 let xlist = document.querySelector('.jd_cang');
 let shangla = document.querySelector('.shangla');
 let ssTop;
 let smTop;
 let seTop;
 xlist.addEventListener('touchstart',function(e){
	 ssTop=e.touches[0].pageY;
	//  console.log(ssTop);

 })
 xlist.addEventListener('touchmove',function(e){
	smTop=e.touches[0].pageY;
	scrollTop = document.documentElement.scrollTop||document.body.scrollTop;
if(scrollTop<=0){
	if(smTop-ssTop>0){shangla.style.display="block";
	if(smTop-ssTop<60){
	shangla.style.paddingTop=(smTop-ssTop)+"px";
	}else{
		shangla.style.paddingTop=60+"px";
	}}
}
 })
 xlist.addEventListener('touchend',function(e){
	if(smTop-ssTop>30){
		jd_container.style.display="block";
		cang.style.display="none";
		
		window.pageYOffset=document.documentElement.scrollTop=document.body.scrollTop=document.documentElement.scrollTop=jd_container.scrollHeight

	}
	shangla.style.display="none";
   })
 
 
</script>
</body>
</html>
